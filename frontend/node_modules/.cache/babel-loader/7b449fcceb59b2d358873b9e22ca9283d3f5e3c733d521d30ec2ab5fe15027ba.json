{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import MovieForm from\"./MovieForm\";import MovieList from\"./MovieList\";import api from\"../services/api\";import\"./App.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const moviesEndpoint=\"/movies\";const[movies,setMovies]=useState([]);const[error,setError]=useState();const fetchMovies=async()=>{try{const{data}=await api.get(moviesEndpoint);setMovies(data);}catch(error){setError(\"Could not fetch the movies!\");}};const handleAddMovie=async title=>{try{const movie={_id:Date.now(),title};setMovies([...movies,movie]);const{data:savedMovie}=await api.create(moviesEndpoint,movie);setMovies([...movies,savedMovie]);}catch(error){setError(\"Could not save the movie!\");setMovies(movies);}};const handleDeleteMovie=async movie=>{try{setMovies(movies.filter(m=>m!==movie));await api.remove(moviesEndpoint+\"/\"+movie._id);}catch(error){setError(\"Could not delete the movie!\");setMovies(movies);}};useEffect(()=>fetchMovies(),[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(MovieForm,{onAddMovie:handleAddMovie}),error&&/*#__PURE__*/_jsx(\"p\",{role:\"alert\",className:\"Error\",children:error}),/*#__PURE__*/_jsx(MovieList,{movies:movies,onDeleteMovie:handleDeleteMovie})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","MovieForm","MovieList","api","jsx","_jsx","jsxs","_jsxs","App","moviesEndpoint","movies","setMovies","error","setError","fetchMovies","data","get","handleAddMovie","title","movie","_id","Date","now","savedMovie","create","handleDeleteMovie","filter","m","remove","className","children","onAddMovie","role","onDeleteMovie"],"sources":["/home/mhmdmbt/Desktop/Docker-project/project_compose/frontend/src/components/App.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport MovieForm from \"./MovieForm\";\nimport MovieList from \"./MovieList\";\nimport api from \"../services/api\";\nimport \"./App.css\";\n\nfunction App() {\n  const moviesEndpoint = \"/movies\";\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState();\n\n  const fetchMovies = async () => {\n    try {\n      const { data } = await api.get(moviesEndpoint);\n      setMovies(data);\n    } catch (error) {\n      setError(\"Could not fetch the movies!\");\n    }\n  };\n\n  const handleAddMovie = async (title) => {\n    try {\n      const movie = { _id: Date.now(), title };\n      setMovies([...movies, movie]);\n\n      const { data: savedMovie } = await api.create(moviesEndpoint, movie);\n\n      setMovies([...movies, savedMovie]);\n    } catch (error) {\n      setError(\"Could not save the movie!\");\n      setMovies(movies);\n    }\n  };\n\n  const handleDeleteMovie = async (movie) => {\n    try {\n      setMovies(movies.filter((m) => m !== movie));\n      await api.remove(moviesEndpoint + \"/\" + movie._id);\n    } catch (error) {\n      setError(\"Could not delete the movie!\");\n      setMovies(movies);\n    }\n  };\n\n  useEffect(() => fetchMovies(), []);\n\n  return (\n    <div className=\"App\">\n      <MovieForm onAddMovie={handleAddMovie} />\n      {error && (\n        <p role=\"alert\" className=\"Error\">\n          {error}\n        </p>\n      )}\n      <MovieList movies={movies} onDeleteMovie={handleDeleteMovie} />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,MAAO,CAAAC,GAAG,KAAM,iBAAiB,CACjC,MAAO,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnB,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAAAC,cAAc,CAAG,SAAS,CAChC,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACa,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,CAAC,CAEpC,KAAM,CAAAe,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACF,KAAM,CAAEC,IAAK,CAAC,CAAG,KAAM,CAAAZ,GAAG,CAACa,GAAG,CAACP,cAAc,CAAC,CAC9CE,SAAS,CAACI,IAAI,CAAC,CACjB,CAAE,MAAOH,KAAK,CAAE,CACdC,QAAQ,CAAC,6BAA6B,CAAC,CACzC,CACF,CAAC,CAED,KAAM,CAAAI,cAAc,CAAG,KAAO,CAAAC,KAAK,EAAK,CACtC,GAAI,CACF,KAAM,CAAAC,KAAK,CAAG,CAAEC,GAAG,CAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAEJ,KAAM,CAAC,CACxCP,SAAS,CAAC,CAAC,GAAGD,MAAM,CAAES,KAAK,CAAC,CAAC,CAE7B,KAAM,CAAEJ,IAAI,CAAEQ,UAAW,CAAC,CAAG,KAAM,CAAApB,GAAG,CAACqB,MAAM,CAACf,cAAc,CAAEU,KAAK,CAAC,CAEpER,SAAS,CAAC,CAAC,GAAGD,MAAM,CAAEa,UAAU,CAAC,CAAC,CACpC,CAAE,MAAOX,KAAK,CAAE,CACdC,QAAQ,CAAC,2BAA2B,CAAC,CACrCF,SAAS,CAACD,MAAM,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAe,iBAAiB,CAAG,KAAO,CAAAN,KAAK,EAAK,CACzC,GAAI,CACFR,SAAS,CAACD,MAAM,CAACgB,MAAM,CAAEC,CAAC,EAAKA,CAAC,GAAKR,KAAK,CAAC,CAAC,CAC5C,KAAM,CAAAhB,GAAG,CAACyB,MAAM,CAACnB,cAAc,CAAG,GAAG,CAAGU,KAAK,CAACC,GAAG,CAAC,CACpD,CAAE,MAAOR,KAAK,CAAE,CACdC,QAAQ,CAAC,6BAA6B,CAAC,CACvCF,SAAS,CAACD,MAAM,CAAC,CACnB,CACF,CAAC,CAEDV,SAAS,CAAC,IAAMc,WAAW,CAAC,CAAC,CAAE,EAAE,CAAC,CAElC,mBACEP,KAAA,QAAKsB,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBzB,IAAA,CAACJ,SAAS,EAAC8B,UAAU,CAAEd,cAAe,CAAE,CAAC,CACxCL,KAAK,eACJP,IAAA,MAAG2B,IAAI,CAAC,OAAO,CAACH,SAAS,CAAC,OAAO,CAAAC,QAAA,CAC9BlB,KAAK,CACL,CACJ,cACDP,IAAA,CAACH,SAAS,EAACQ,MAAM,CAAEA,MAAO,CAACuB,aAAa,CAAER,iBAAkB,CAAE,CAAC,EAC5D,CAAC,CAEV,CAEA,cAAe,CAAAjB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}